// state
#include "GameState_Title.h"
#include "GameState_Select.h"

////////////////////////////////////////////////////////////////////////////////////////
//
// コンストラクタ：デストラクタ
//
////////////////////////////////////////////////////////////////////////////////////////
GameState_Title::GameState_Title(Scene_Base* pScene) : State_Base(pScene){
    pGameScene_ = dynamic_cast< Scene_Game* >(pScene);
    Initialize();
}

GameState_Title::~GameState_Title(){}

////////////////////////////////////////////////////////////////////////////////////////
//
// 初期化処理
//
////////////////////////////////////////////////////////////////////////////////////////
void GameState_Title::Initialize(){
    // イベントシーンがあれば終了
    pGameScene_->EndEvent();
    // 操作フラグをfalseにしておく
    pGameScene_->Get_pPlayer()->SetIsMovable(false);
    pGameScene_->Get_pPlayer()->SetTranslate(StageManager::GetStartPos());
}

////////////////////////////////////////////////////////////////////////////////////////
//
// 終了処理
//
////////////////////////////////////////////////////////////////////////////////////////
void GameState_Title::Finalize(){}

////////////////////////////////////////////////////////////////////////////////////////
//
// 更新処理
//
////////////////////////////////////////////////////////////////////////////////////////
void GameState_Title::Update(){
    // タイトル画面の更新処理
    pGameScene_->Update();
}

////////////////////////////////////////////////////////////////////////////////////////
//
// 描画処理
//
////////////////////////////////////////////////////////////////////////////////////////
void GameState_Title::Draw(){
    // タイトル画面の描画処理
    pGameScene_->Draw();
}

////////////////////////////////////////////////////////////////////////////////////////
//
// フレーム開始処理
//
////////////////////////////////////////////////////////////////////////////////////////
void GameState_Title::BeginFrame(){}

////////////////////////////////////////////////////////////////////////////////////////
//
// フレーム終了処理
//
////////////////////////////////////////////////////////////////////////////////////////
void GameState_Title::EndFrame(){
    ManageState();

}

////////////////////////////////////////////////////////////////////////////////////////
//
// コライダーをCollisionManagerに渡す
//
////////////////////////////////////////////////////////////////////////////////////////
void GameState_Title::HandOverColliders(){}

////////////////////////////////////////////////////////////////////////////////////////
//
// ステート管理
//
////////////////////////////////////////////////////////////////////////////////////////
void GameState_Title::ManageState(){
    // タイトル画面のステート管理
    // 遷移
   //pGameScene_->ChangeState(new GameState_Select(pGameScene_));
}