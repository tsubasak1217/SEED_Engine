#include "EnemyState_Damaged.h"
// 各ステートのヘッダーをインクルード
#include "EnemyState_Idle.h"

//////////////////////////////////////////////////////////////////////////
// コンストラクタ・デストラクタ・初期化関数
//////////////////////////////////////////////////////////////////////////
EnemyState_Damaged::EnemyState_Damaged(BaseCharacter* player){
    Initialize(player);
}

EnemyState_Damaged::~EnemyState_Damaged(){}

void EnemyState_Damaged::Initialize(BaseCharacter* player){
    ICharacterState::Initialize(player);
    pCharacter_->SetAnimation("damaged", true);
}

//////////////////////////////////////////////////////////////////////////
// 更新処理
//////////////////////////////////////////////////////////////////////////
void EnemyState_Damaged::Update(){
    // ステート管理
    ManageState();
}

//////////////////////////////////////////////////////////////////////////
// 描画処理
//////////////////////////////////////////////////////////////////////////
void EnemyState_Damaged::Draw(){}

//////////////////////////////////////////////////////////////////////////
// ステート管理
//////////////////////////////////////////////////////////////////////////
void EnemyState_Damaged::ManageState(){

    if(pCharacter_->GetIsEndAnimation()){
        pCharacter_->ChangeState(new EnemyState_Idle(pCharacter_));
        return;
    }
}